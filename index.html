<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>AJ OS</title>

    <!-- SECURITY: Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://esm.sh;
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.tailwindcss.com;
      font-src 'self' https://fonts.gstatic.com;
      img-src 'self' data: blob: https:;
      connect-src 'self' https://*.supabase.co https://generativelanguage.googleapis.com wss://*.supabase.co;
      frame-ancestors 'none';
      base-uri 'self';
      form-action 'self';
    ">

    <!-- SECURITY: Prevent clickjacking -->
    <meta http-equiv="X-Frame-Options" content="DENY">

    <!-- SECURITY: Prevent MIME type sniffing -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">

    <!-- SECURITY: Referrer policy -->
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <!-- SEO & Meta -->
    <meta name="description" content="AJ-26 OS - Personal Operating System for Productivity and Focus">
    <meta name="author" content="AJ OS Contributors">

    <!-- Tailwind CSS with integrity check would be ideal, but CDN version doesn't support it -->
    <!-- For production, consider installing Tailwind locally -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts with preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;800&display=swap"
        rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">

    <style>
        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #09090b;
            color: #fafafa;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #09090b;
        }

        ::-webkit-scrollbar-thumb {
            background: #27272a;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3f3f46;
        }

        /* Selection color */
        ::selection {
            background: rgba(16, 185, 129, 0.3);
        }

        /* Focus visible for accessibility */
        :focus-visible {
            outline: 2px solid #10b981;
            outline-offset: 2px;
        }
    </style>

    <!-- Import map for ES modules -->
    <script type="importmap">
    {
      "imports": {
        "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
        "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
        "react/": "https://esm.sh/react@^19.2.3/",
        "react": "https://esm.sh/react@^19.2.3"
      }
    }
    </script>

    <link rel="stylesheet" href="/src/styles/index.css">
</head>

<body>
    <!-- Noscript fallback -->
    <noscript>
        <div style="padding: 2rem; text-align: center; background: #18181b; color: #fafafa;">
            <h1>JavaScript Required</h1>
            <p>AJ-26 OS requires JavaScript to function. Please enable JavaScript in your browser.</p>
        </div>
    </noscript>

    <div id="root"></div>

    <script type="module" src="/src/index.tsx"></script>
</body>

</html>